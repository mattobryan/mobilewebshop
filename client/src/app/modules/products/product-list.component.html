<div class="container">
  <div class="page-header">
    <h1>Products</h1>
    
    <div class="admin-actions" *ngIf="isAdmin()">
      <button class="add-product-btn" routerLink="/products/create">Add New Product</button>
    </div>
  </div>
  
  <!-- Loading indicator -->
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading products...</p>
  </div>
  
  <!-- Error message -->
  <div *ngIf="error" class="error-message">
    <p>{{ error }}</p>
  </div>
  
  <!-- Product grid -->
  <div class="product-grid">
    <div *ngFor="let product of products" class="product-card">
      <div class="product-card-image">
        <a [routerLink]="['/products', product._id]">
          <img [src]="product.imageUrl || '/assets/placeholder.jpg'" [alt]="product.name" onerror="this.src='/assets/placeholder.jpg'">
        </a>
      </div>
      <div class="product-card-content">
        <h3 class="product-card-title">
          <a [routerLink]="['/products', product._id]">{{ product.name }}</a>
        </h3>
        <p class="product-card-price">${{ product.price.toFixed(2) }}</p>
        <p class="product-card-stock" [ngClass]="{'in-stock': product.stock > 0, 'out-of-stock': product.stock === 0}">
          {{ product.stock > 0 ? 'In Stock' : 'Out of Stock' }}
        </p>
        <div class="product-card-actions">
          <button 
            class="add-to-cart-btn" 
            (click)="addToCart(product)" 
            [disabled]="product.stock === 0">
            Add to Cart
          </button>
          <a [routerLink]="['/products', product._id]" class="view-details-btn">View Details</a>
        </div>
      </div>
    </div>
  </div>
</div>
